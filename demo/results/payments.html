<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Payment query result</title>
    <link rel="stylesheet" type="text/css" href="../common/style.css"/>

	<script>
        
        window.onload=function() { 
             load();   
        }
       
        async function load() {

            const element = document.getElementById("data");

            const urlParams = new URLSearchParams(window.location.search);

            var id = urlParams.get('id');

            if (!id) {        
                element.innerHTML = ("Sorry, that data isn't available")
            }

            var response = await fetch("https://bankinginfo.azurewebsites.net/api/info/payment_query/" + id);

            if (response.status != 200) {
                element.innerHTML = ("Sorry, that data isn't available")
                return;
            }
            
            var table = await response.text();            

            element.innerHTML = table;
        }
    </script>
</head>
<body>
    <div id="data"></div>
</body>
</html>
